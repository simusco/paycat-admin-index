<div class="container-fluid" ng-controller="WaiterViewController">
    <div class="panel panel-default">
        <div class="panel-heading">新增加服务员</div>
        <table class="table table-striped">
            <thead>
            <tr>
                <th style="width: 10%">服务员帐号</th>
                <th style="width: 10%">服务员姓名</th>
                <th style="width: 10%">服务员密码</th>
                <th style="width: 20%">角色</th>
                <th style="width: 20%">所属店铺</th>
                <th style="width: 30%">#</th>
            </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input class="form-control" ng-model="newWaiter.id"/></td>
                    <td>
                        <input class="form-control" ng-model="newWaiter.name"/>
                    </td>
                    <td>
                        <input class="form-control" ng-model="newWaiter.password"/>
                    </td>
                    <td>
                        <select class="form-control" ng-options="o.roleId as o.roleName for o in roles" ng-model="newWaiter.roleId">
                            <option value="">请选择角色</option>
                        </select>
                    </td>
                    <td>
                        <select class="form-control"
                                ng-options="o.shopId as o.shopName for o in shopList"
                                ng-model="newWaiter.shopId">
                            <option value="">请选择所属店铺</option>
                        </select>
                    </td>
                    <td>
                        <button type="button" class="btn btn-primary" ng-click="saveWaiter()">添加服务员</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="panel panel-warning" ng-show="errmsg != null && errmsg != ''">
        <div class="panel-heading">温馨提示：</div>
        <div class="panel-body">
            <div class="col-sm-8">{{errmsg}}</div>
            <div class="col-sm-2"><button class="btn btn-info" ng-click="closeMsg()">知道了</button></div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">修改服务员</div>
        <table class="table table-striped">
            <thead>
            <tr>
                <th style="width: 10%">服务员帐号</th>
                <th style="width: 10%">服务员姓名</th>
                <th style="width: 10%">服务员密码</th>
                <th style="width: 20%">角色</th>
                <th style="width: 20%">所属店铺</th>
                <th style="width: 30%">#</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="waiter in waiters">
                <td>{{waiter.id}}</td>
                <td>
                    <span ng-hide="waiter.edit">{{waiter.name}}</span>
                    <input class="form-control" ng-show="waiter.edit" ng-model="editO.name"/>
                </td>
                <td>
                    <span ng-hide="waiter.edit">{{waiter.password}}</span>
                    <input class="form-control" ng-show="waiter.edit" ng-model="editO.password"/>
                </td>
                <td>
                    <span ng-hide="waiter.edit">{{getRoleName(waiter.roleId)}}</span>
                    <select ng-show="waiter.edit" class="form-control" ng-options="o.roleId as o.roleName for o in roles" ng-model="editO.roleId"></select>
                </td>
                <td>
                    <span ng-hide="waiter.edit">{{getShopName(waiter.shopId)}}</span>
                    <select ng-show="waiter.edit"
                            class="form-control"
                            ng-options="o.shopId as o.shopName for o in shopList"
                            ng-model="editO.shopId">
                    </select>
                </td>
                <td>
                    <button type="button" class="btn btn-primary" ng-click="editWaiter(waiter)">{{waiter.edit ? '保存': '编辑'}}</button>
                    <button type="button" class="btn btn-warning" ng-click="logoff(waiter)" ng-hide="waiter.edit">注销</button>
                    <button type="button" class="btn btn-warning" ng-click="cancel(waiter)" ng-show="waiter.edit">返回</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>